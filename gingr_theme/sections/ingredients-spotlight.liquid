{%- comment -%}
  GINGR — Ingredients Spotlight
  Highlights key ingredients with benefits — builds trust for health-conscious buyers.
{%- endcomment -%}

<section class="section-padding" data-section-id="{{ section.id }}">
  <div class="gingr-container">
    <div class="text-center mb-12">
      {% if section.settings.eyebrow != blank %}
        <p class="text-xs font-bold uppercase tracking-[0.2em] text-subheading mb-3">{{ section.settings.eyebrow }}</p>
      {% endif %}
      <h2 class="text-3xl md:text-4xl font-bold">{{ section.settings.heading }}</h2>
      {% if section.settings.subheading != blank %}
        <p class="text-base text-subheading mt-3 max-w-lg mx-auto">{{ section.settings.subheading }}</p>
      {% endif %}
    </div>

    {%- comment -%} Hero ingredient (first block, large) {%- endcomment -%}
    {% if section.blocks.size > 0 %}
      {% assign hero_block = section.blocks | first %}
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-center mb-12" {{ hero_block.shopify_attributes }}>
        {% if hero_block.settings.image %}
          <div class="rounded-3xl overflow-hidden border border-white/10"
               {% if hero_block.settings.bg_color != blank %}style="background: {{ hero_block.settings.bg_color }};"{% endif %}>
            {{ hero_block.settings.image | image_url: width: 800 | image_tag:
              class: 'w-full h-auto',
              loading: 'lazy',
              widths: '400,600,800'
            }}
          </div>
        {% endif %}
        <div>
          {% if hero_block.settings.label != blank %}
            <p class="text-xs font-bold uppercase tracking-[0.15em] mb-2" style="color:var(--color-accent);">{{ hero_block.settings.label }}</p>
          {% endif %}
          <h3 class="text-2xl md:text-3xl font-bold">{{ hero_block.settings.name }}</h3>
          {% if hero_block.settings.description != blank %}
            <p class="text-subheading mt-3 leading-relaxed">{{ hero_block.settings.description }}</p>
          {% endif %}
          {% if hero_block.settings.benefit_1 != blank %}
            <ul class="mt-5 space-y-2">
              {% if hero_block.settings.benefit_1 != blank %}
                <li class="flex items-center gap-3">
                  <span class="w-1.5 h-1.5 rounded-full flex-shrink-0" style="background:var(--color-accent);"></span>
                  <span class="text-sm">{{ hero_block.settings.benefit_1 }}</span>
                </li>
              {% endif %}
              {% if hero_block.settings.benefit_2 != blank %}
                <li class="flex items-center gap-3">
                  <span class="w-1.5 h-1.5 rounded-full flex-shrink-0" style="background:var(--color-accent);"></span>
                  <span class="text-sm">{{ hero_block.settings.benefit_2 }}</span>
                </li>
              {% endif %}
              {% if hero_block.settings.benefit_3 != blank %}
                <li class="flex items-center gap-3">
                  <span class="w-1.5 h-1.5 rounded-full flex-shrink-0" style="background:var(--color-accent);"></span>
                  <span class="text-sm">{{ hero_block.settings.benefit_3 }}</span>
                </li>
              {% endif %}
            </ul>
          {% endif %}
        </div>
      </div>
    {% endif %}

    {%- comment -%} Other ingredients (smaller cards) {%- endcomment -%}
    {% if section.blocks.size > 1 %}
      <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-{{ section.blocks.size | minus: 1 | at_most: 4 }} gap-5">
        {% for block in section.blocks offset: 1 %}
          <div class="rounded-2xl border border-white/10 bg-white/5 backdrop-blur-sm overflow-hidden group" {{ block.shopify_attributes }}>
            {% if block.settings.image %}
              <div class="aspect-square overflow-hidden"
                   {% if block.settings.bg_color != blank %}style="background: {{ block.settings.bg_color }};"{% endif %}>
                {{ block.settings.image | image_url: width: 400 | image_tag:
                  class: 'w-full h-full object-cover group-hover:scale-105 transition-transform duration-500',
                  loading: 'lazy',
                  widths: '200,300,400'
                }}
              </div>
            {% endif %}
            <div class="p-4">
              {% if block.settings.label != blank %}
                <p class="text-[10px] font-bold uppercase tracking-wider mb-1" style="color:var(--color-accent);">{{ block.settings.label }}</p>
              {% endif %}
              <h4 class="text-sm font-bold">{{ block.settings.name }}</h4>
              {% if block.settings.description != blank %}
                <p class="text-xs text-subheading mt-1 leading-relaxed line-clamp-2">{{ block.settings.description }}</p>
              {% endif %}
            </div>
          </div>
        {% endfor %}
      </div>
    {% endif %}
  </div>
</section>

{% schema %}
{
  "name": "Ingredients spotlight",
  "tag": "section",
  "settings": [
    {
      "type": "text",
      "id": "eyebrow",
      "label": "Eyebrow",
      "default": "What's inside"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Real ingredients. Nothing else."
    },
    {
      "type": "text",
      "id": "subheading",
      "label": "Subheading",
      "default": "Every ingredient is chosen for a reason — no fillers, no additives."
    }
  ],
  "blocks": [
    {
      "type": "ingredient",
      "name": "Ingredient",
      "settings": [
        {
          "type": "text",
          "id": "name",
          "label": "Ingredient name",
          "default": "Organic Ginger"
        },
        {
          "type": "text",
          "id": "label",
          "label": "Label (e.g. Hero ingredient)",
          "default": "Hero ingredient"
        },
        {
          "type": "textarea",
          "id": "description",
          "label": "Description",
          "default": "Fresh organic ginger root, cold-pressed to preserve maximum potency and bioavailability."
        },
        {
          "type": "image_picker",
          "id": "image",
          "label": "Image"
        },
        {
          "type": "color",
          "id": "bg_color",
          "label": "Image background color"
        },
        {
          "type": "text",
          "id": "benefit_1",
          "label": "Benefit 1 (hero ingredient only)"
        },
        {
          "type": "text",
          "id": "benefit_2",
          "label": "Benefit 2"
        },
        {
          "type": "text",
          "id": "benefit_3",
          "label": "Benefit 3"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Ingredients spotlight",
      "blocks": [
        { "type": "ingredient", "settings": { "name": "Organic Ginger", "label": "Hero ingredient", "description": "Fresh organic ginger root, cold-pressed for maximum potency. Anti-inflammatory, aids digestion, and boosts immunity.", "benefit_1": "Powerful anti-inflammatory", "benefit_2": "Supports healthy digestion", "benefit_3": "Boosts natural immunity" }},
        { "type": "ingredient", "settings": { "name": "Turmeric", "label": "Superfood", "description": "Golden spice with curcumin — nature's most powerful antioxidant." }},
        { "type": "ingredient", "settings": { "name": "Guarana", "label": "Natural energy", "description": "Clean caffeine from the Amazon. Sustained energy without the crash." }},
        { "type": "ingredient", "settings": { "name": "Matcha", "label": "Focus", "description": "Japanese green tea powder. L-theanine for calm focus and concentration." }}
      ]
    }
  ]
}
{% endschema %}
