{%- comment -%}
  FAQ section â€” Accordion. Theme: light or dark (section setting).
{%- endcomment -%}

{% assign faq_theme = section.settings.theme | default: 'dark' %}

<section class="section-padding {% if faq_theme == 'light' %}bg-white{% endif %}" data-faq-theme="{{ faq_theme }}">
  <div class="gingr-container max-w-3xl">
    <h2 class="text-2xl font-bold text-center mb-8 {% if faq_theme == 'light' %}text-gray-900{% else %}text-heading{% endif %}">{{ section.settings.heading }}</h2>

    <div class="space-y-3">
      {% for block in section.blocks %}
        <details class="group rounded-xl overflow-hidden {% if faq_theme == 'light' %}border border-gray-200 bg-gray-50{% else %}border border-white/10 bg-white/5{% endif %}" {{ block.shopify_attributes }}>
          <summary class="flex items-center justify-between px-5 py-4 cursor-pointer text-sm font-medium transition-colors {% if faq_theme == 'light' %}text-gray-900 hover:bg-gray-100{% else %}text-body hover:bg-white/5{% endif %}">
            {{ block.settings.question }}
            <svg class="w-4 h-4 flex-shrink-0 ml-4 transition-transform group-open:rotate-180 {% if faq_theme == 'light' %}text-gray-400{% else %}text-white/30{% endif %}" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m19.5 8.25-7.5 7.5-7.5-7.5"/></svg>
          </summary>
          <div class="px-5 pb-4 text-sm leading-relaxed {% if faq_theme == 'light' %}text-gray-600{% else %}text-subheading{% endif %}">
            {{ block.settings.answer }}
          </div>
        </details>
      {% endfor %}
    </div>
  </div>
</section>

{% schema %}
{
  "name": "FAQ",
  "tag": "section",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Frequently asked questions"
    },
    {
      "type": "select",
      "id": "theme",
      "label": "Theme",
      "options": [
        { "value": "dark", "label": "Dark" },
        { "value": "light", "label": "Light" }
      ],
      "default": "dark"
    }
  ],
  "blocks": [
    {
      "type": "faq",
      "name": "Question",
      "settings": [
        {
          "type": "text",
          "id": "question",
          "label": "Question",
          "default": "How should I take my GINGR shot?"
        },
        {
          "type": "richtext",
          "id": "answer",
          "label": "Answer",
          "default": "<p>Take one 60ml shot daily. Best consumed in the morning on an empty stomach, or 30 minutes before a workout.</p>"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "FAQ",
      "blocks": [
        { "type": "faq", "settings": { "question": "How should I take my GINGR shot?", "answer": "<p>Take one 60ml shot daily. Best on an empty stomach in the morning, or 30 min before a workout.</p>" }},
        { "type": "faq", "settings": { "question": "Can I pause or cancel my subscription?", "answer": "<p>Absolutely. You can pause, skip, or cancel anytime from your account dashboard. No commitment.</p>" }},
        { "type": "faq", "settings": { "question": "What's the shelf life?", "answer": "<p>Our shots last 6 months unopened. Once opened, consume within 24 hours. Store refrigerated.</p>" }},
        { "type": "faq", "settings": { "question": "Are GINGR shots vegan?", "answer": "<p>Yes. All GINGR shots are 100% plant-based, vegan, and free from artificial additives.</p>" }}
      ]
    }
  ]
}
{% endschema %}
